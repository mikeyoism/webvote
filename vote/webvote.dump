-- MySQL dump 10.13  Distrib 5.6.30, for FreeBSD10.1 (amd64)
--
-- Host: localhost    Database: webvote
-- ------------------------------------------------------
-- Server version	5.6.30

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `categories`
--

DROP TABLE IF EXISTS `categories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `categories` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `competitionId` int(11) NOT NULL,
  `name` varchar(100) DEFAULT NULL,
  `description` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `competitionId` (`competitionId`),
  CONSTRAINT `categories_ibfk_1` FOREIGN KEY (`competitionId`) REFERENCES `competitions` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `categories`
--

LOCK TABLES `categories` WRITE;
/*!40000 ALTER TABLE `categories` DISABLE KEYS */;
INSERT INTO `categories` VALUES (4,1,'Folkets val',NULL);
/*!40000 ALTER TABLE `categories` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `competitions`
--

DROP TABLE IF EXISTS `competitions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `competitions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) DEFAULT NULL,
  `openTime` datetime NOT NULL,
  `closeTime` datetime NOT NULL,
  `testingOpenUntilTime` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `competitions`
--

LOCK TABLES `competitions` WRITE;
/*!40000 ALTER TABLE `competitions` DISABLE KEYS */;
INSERT INTO `competitions` VALUES (1,'Vinterölsträffen 2016','2016-12-10 12:00:00','2016-12-10 15:00:00','2016-12-08 20:30:48');
/*!40000 ALTER TABLE `competitions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `config`
--

DROP TABLE IF EXISTS `config`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `config` (
  `currentCompetitionId` int(11) DEFAULT NULL,
  KEY `currentCompetitionId` (`currentCompetitionId`),
  CONSTRAINT `config_ibfk_1` FOREIGN KEY (`currentCompetitionId`) REFERENCES `competitions` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `config`
--

LOCK TABLES `config` WRITE;
/*!40000 ALTER TABLE `config` DISABLE KEYS */;
INSERT INTO `config` VALUES (1);
/*!40000 ALTER TABLE `config` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `entries`
--

DROP TABLE IF EXISTS `entries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `entries` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `categoryId` int(11) DEFAULT NULL,
  `entryCode` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `categoryCodeUniqueIndex` (`categoryId`,`entryCode`),
  KEY `categoryCodeIndex` (`categoryId`,`entryCode`),
  CONSTRAINT `entries_ibfk_1` FOREIGN KEY (`categoryId`) REFERENCES `categories` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=144 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `entries`
--

LOCK TABLES `entries` WRITE;
/*!40000 ALTER TABLE `entries` DISABLE KEYS */;
INSERT INTO `entries` VALUES (45,4,101),(46,4,102),(47,4,103),(48,4,104),(49,4,105),(50,4,106),(51,4,107),(52,4,108),(53,4,109),(54,4,110),(55,4,111),(56,4,112),(57,4,113),(58,4,114),(59,4,115),(60,4,116),(61,4,117),(62,4,118),(63,4,119),(64,4,120),(65,4,121),(66,4,122),(67,4,123),(68,4,124),(69,4,125),(70,4,126),(71,4,127),(72,4,128),(73,4,129),(74,4,130),(75,4,131),(76,4,132),(77,4,133),(78,4,134),(79,4,135),(80,4,136),(81,4,137),(82,4,138),(83,4,139),(84,4,140),(85,4,141),(86,4,142),(87,4,143),(88,4,144),(89,4,145),(90,4,146),(91,4,147),(92,4,148),(93,4,149),(94,4,150),(95,4,151),(96,4,152),(97,4,153),(98,4,154),(99,4,155),(100,4,156),(101,4,157),(102,4,158),(103,4,159),(104,4,160),(105,4,161),(106,4,162),(107,4,163),(108,4,164),(109,4,165),(110,4,166),(111,4,167),(112,4,168),(113,4,169),(114,4,170),(115,4,171),(116,4,172),(117,4,173),(118,4,174),(119,4,175),(120,4,176),(121,4,177),(122,4,178),(123,4,179),(124,4,180),(125,4,181),(126,4,182),(127,4,183),(128,4,184),(129,4,185),(130,4,186),(131,4,187),(132,4,188),(133,4,189),(134,4,190),(135,4,191),(136,4,192),(137,4,193),(138,4,194),(139,4,195),(140,4,196),(141,4,197),(142,4,198),(143,4,199);
/*!40000 ALTER TABLE `entries` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `users`
--

DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `username` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `privilege` int(11) NOT NULL,
  PRIMARY KEY (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
INSERT INTO `users` VALUES ('christian','*23DC6373E2D673F785A5F64E7F4EA391806D880E',2),('hakan','*D2D30328A865ED91D86ACCBDD47D614F476DCB48',2),('staffanu','*87FC9B2FDB195E9193DF7C0B5B6276CCF5A134DD',2);
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `voteCodes`
--

DROP TABLE IF EXISTS `voteCodes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `voteCodes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `competitionId` int(11) NOT NULL,
  `code` char(6) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `competitionId` (`competitionId`),
  CONSTRAINT `voteCodes_ibfk_1` FOREIGN KEY (`competitionId`) REFERENCES `competitions` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=606 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `voteCodes`
--

LOCK TABLES `voteCodes` WRITE;
/*!40000 ALTER TABLE `voteCodes` DISABLE KEYS */;
INSERT INTO `voteCodes` VALUES (306,1,'9FRBTN'),(307,1,'J3RUL4'),(308,1,'P27B8L'),(309,1,'MXAK8H'),(310,1,'UAST7E'),(311,1,'KLDEKY'),(312,1,'CUSLRT'),(313,1,'KFL592'),(314,1,'FL6CKD'),(315,1,'QTM6AT'),(316,1,'L5BJ7J'),(317,1,'MK6JB8'),(318,1,'F7SXTC'),(319,1,'WPBTCT'),(320,1,'CRAXVC'),(321,1,'NQXXNG'),(322,1,'G5FTAL'),(323,1,'C3RSHE'),(324,1,'KK36LK'),(325,1,'QKPAB7'),(326,1,'FQU2NR'),(327,1,'C8EWDG'),(328,1,'5VJABR'),(329,1,'RH9C3S'),(330,1,'ETTD29'),(331,1,'BQC9XS'),(332,1,'5XNB5B'),(333,1,'Q7AGV7'),(334,1,'YFYRBQ'),(335,1,'UPZNB9'),(336,1,'ED54Q5'),(337,1,'NAH56G'),(338,1,'TESMNG'),(339,1,'36AE5U'),(340,1,'V72S6L'),(341,1,'MKXW2N'),(342,1,'9Q6KWF'),(343,1,'2K23SC'),(344,1,'SVV2T3'),(345,1,'TK9BVN'),(346,1,'57TUXB'),(347,1,'KMYY2G'),(348,1,'72RLVT'),(349,1,'VX4NXT'),(350,1,'XKLFDK'),(351,1,'G7VUW6'),(352,1,'W2E3JC'),(353,1,'AT9XLK'),(354,1,'KTCKZF'),(355,1,'PNKKUZ'),(356,1,'RGLPKX'),(357,1,'KGPGQX'),(358,1,'S4JBFK'),(359,1,'5XK6MW'),(360,1,'6V7BQH'),(361,1,'F64ZRD'),(362,1,'JZNBDJ'),(363,1,'37GLMN'),(364,1,'433CZY'),(365,1,'79X2R6'),(366,1,'5GB2CJ'),(367,1,'KVWDWD'),(368,1,'MHXYCZ'),(369,1,'R4RGAF'),(370,1,'KM7BN5'),(371,1,'6GJ96X'),(372,1,'5NEBWK'),(373,1,'KVNQP5'),(374,1,'KRM5A4'),(375,1,'77EM5X'),(376,1,'TDGZTU'),(377,1,'5HDVFU'),(378,1,'63Z428'),(379,1,'V3MURZ'),(380,1,'D7M6JS'),(381,1,'D89CZM'),(382,1,'QZBUK3'),(383,1,'H47DFC'),(384,1,'7G5SNQ'),(385,1,'5PEHV3'),(386,1,'JL48YX'),(387,1,'LR6E7E'),(388,1,'UTG9HK'),(389,1,'AS5MTU'),(390,1,'DN2NYR'),(391,1,'XTFVTN'),(392,1,'WWZCWE'),(393,1,'Q5EDVE'),(394,1,'Y4WRS4'),(395,1,'YULWET'),(396,1,'7E9CF8'),(397,1,'LTJGM2'),(398,1,'MUAL52'),(399,1,'2RS7BD'),(400,1,'6H93JS'),(401,1,'Z27JVZ'),(402,1,'TRNTNF'),(403,1,'H9B2PN'),(404,1,'QVYZS7'),(405,1,'8FDKKM'),(406,1,'P7HJ7M'),(407,1,'PL87BZ'),(408,1,'H25RNT'),(409,1,'8AYUSK'),(410,1,'DXFP2R'),(411,1,'AQXWBB'),(412,1,'4C2KRV'),(413,1,'75RAW6'),(414,1,'6PNR5Y'),(415,1,'H347FV'),(416,1,'JY3HEG'),(417,1,'DWJY3K'),(418,1,'AVPTKF'),(419,1,'N4CCRM'),(420,1,'S7YPD3'),(421,1,'UPFEJH'),(422,1,'B4C45T'),(423,1,'5WTF9G'),(424,1,'P54NAJ'),(425,1,'D9HZQ2'),(426,1,'SCF8AW'),(427,1,'DAMH7R'),(428,1,'SAXY9J'),(429,1,'25XTS4'),(430,1,'R7U8ZA'),(431,1,'JTVSN7'),(432,1,'8EUYSB'),(433,1,'B4YAFU'),(434,1,'UD6TQN'),(435,1,'XTQPL8'),(436,1,'8C7TMJ'),(437,1,'WJ93KP'),(438,1,'5TRFK2'),(439,1,'6QLU6T'),(440,1,'PS49GE'),(441,1,'VRLTHT'),(442,1,'EM7G8H'),(443,1,'227LYX'),(444,1,'56TS4H'),(445,1,'CHGW2S'),(446,1,'ENCZ7Y'),(447,1,'KLDM4B'),(448,1,'5KRE8W'),(449,1,'LV28Q8'),(450,1,'Y2TX22'),(451,1,'KL62C6'),(452,1,'ER9NW4'),(453,1,'PGDR6K'),(454,1,'BR783C'),(455,1,'R2TZ65'),(456,1,'Y2NXNC'),(457,1,'DSCNRD'),(458,1,'J7B726'),(459,1,'NK2D7E'),(460,1,'CQDJZ4'),(461,1,'4D333B'),(462,1,'2TU2UX'),(463,1,'3M3RP4'),(464,1,'2H5N39'),(465,1,'DXVRDM'),(466,1,'YACCV9'),(467,1,'867FPU'),(468,1,'E4ZD92'),(469,1,'SKYLEN'),(470,1,'RFXZPR'),(471,1,'V4KJP4'),(472,1,'CKZAES'),(473,1,'5SLNKC'),(474,1,'GFBCAR'),(475,1,'3J47KL'),(476,1,'SG726Y'),(477,1,'MNUM5Z'),(478,1,'EMHBD2'),(479,1,'M2HYMN'),(480,1,'NDZ3UE'),(481,1,'XLXGGW'),(482,1,'2B7M9B'),(483,1,'QG4BGG'),(484,1,'QPTE4S'),(485,1,'4XP7L8'),(486,1,'B4GPX5'),(487,1,'LDPFU6'),(488,1,'GDBGRE'),(489,1,'LC4GAN'),(490,1,'5UR5Q9'),(491,1,'QL3EBC'),(492,1,'NQCLNX'),(493,1,'TSWGJN'),(494,1,'NBQCH5'),(495,1,'TF8MBP'),(496,1,'9DZPLC'),(497,1,'9ZLWN8'),(498,1,'D8TZ3E'),(499,1,'BGM52K'),(500,1,'CWQEGF'),(501,1,'DSD4Z9'),(502,1,'GH4V3W'),(503,1,'KNQ43P'),(504,1,'L2B3YU'),(505,1,'NE64XS'),(506,1,'QV7R8Z'),(507,1,'AK7S5W'),(508,1,'8HTUH6'),(509,1,'SNQ8DY'),(510,1,'YF74TC'),(511,1,'9BPZ22'),(512,1,'A666EU'),(513,1,'2SGF4J'),(514,1,'X32M62'),(515,1,'VKFH2A'),(516,1,'NHL4GH'),(517,1,'DWYP8E'),(518,1,'7U4R8F'),(519,1,'ZYPQS4'),(520,1,'WSQUNK'),(521,1,'VNAYVA'),(522,1,'BCLESP'),(523,1,'D67Q2V'),(524,1,'P4PZBU'),(525,1,'ECLXJU'),(526,1,'GXWVED'),(527,1,'PR5GEE'),(528,1,'WNYEMR'),(529,1,'FXNVSJ'),(530,1,'WDMM6X'),(531,1,'XB76NA'),(532,1,'DGV6YH'),(533,1,'G2UFWD'),(534,1,'SSF6SH'),(535,1,'C8SJHW'),(536,1,'WEW53R'),(537,1,'CVHXYS'),(538,1,'LSNDUN'),(539,1,'LHPS7H'),(540,1,'HL66QZ'),(541,1,'625QCR'),(542,1,'JXBD7T'),(543,1,'J7QGV6'),(544,1,'CDC3CC'),(545,1,'WE5NJZ'),(546,1,'MAV69Z'),(547,1,'3D5WZT'),(548,1,'A6FQJT'),(549,1,'9RDY56'),(550,1,'WL46PJ'),(551,1,'KCL2Q7'),(552,1,'AVHHJ3'),(553,1,'Q5WV44'),(554,1,'LGYVJM'),(555,1,'2JP7JP'),(556,1,'HNM7YR'),(557,1,'2N9BAK'),(558,1,'PANTPY'),(559,1,'AJDSCN'),(560,1,'MA8QFJ'),(561,1,'T6EEV4'),(562,1,'NAUX7U'),(563,1,'D3JVBA'),(564,1,'FX3V66'),(565,1,'TDERUP'),(566,1,'TTDVRV'),(567,1,'A9TU9D'),(568,1,'NJRRN4'),(569,1,'REVVGJ'),(570,1,'GZG8JQ'),(571,1,'YHDRP7'),(572,1,'7PL3CM'),(573,1,'64RNLS'),(574,1,'RVWEDC'),(575,1,'TYBY4U'),(576,1,'L8LUFH'),(577,1,'ABA4KN'),(578,1,'B5FMCD'),(579,1,'WW6KH9'),(580,1,'WEUUQR'),(581,1,'HCAEBB'),(582,1,'W5MJHC'),(583,1,'EJ25HV'),(584,1,'QJVAXE'),(585,1,'GKCR36'),(586,1,'S9BHNS'),(587,1,'TLHCVB'),(588,1,'PB2BDZ'),(589,1,'8J73T5'),(590,1,'RTA8BL'),(591,1,'8C3XY2'),(592,1,'6SPJE2'),(593,1,'J6JYZZ'),(594,1,'BPJZ9C'),(595,1,'4MJ4D5'),(596,1,'X9454T'),(597,1,'WUYW5Y'),(598,1,'H7KWRD'),(599,1,'EQAU6P'),(600,1,'U4UU62'),(601,1,'DD3T9E'),(602,1,'6SS36D'),(603,1,'PKUNB9'),(604,1,'HLNJQ2'),(605,1,'2PF2AM');
/*!40000 ALTER TABLE `voteCodes` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `votes`
--

DROP TABLE IF EXISTS `votes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `votes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `voteCodeId` int(11) NOT NULL,
  `categoryId` int(11) NOT NULL,
  `vote1` int(11) DEFAULT NULL,
  `vote2` int(11) DEFAULT NULL,
  `vote3` int(11) DEFAULT NULL,
  `votingMethod` enum('web','manual') NOT NULL,
  `creationTime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `categoryId` (`categoryId`),
  KEY `vodeCodeId` (`voteCodeId`),
  KEY `categoryId_2` (`categoryId`,`vote1`),
  KEY `categoryId_3` (`categoryId`,`vote2`),
  KEY `categoryId_4` (`categoryId`,`vote3`),
  CONSTRAINT `votes_ibfk_1` FOREIGN KEY (`categoryId`) REFERENCES `categories` (`id`),
  CONSTRAINT `votes_ibfk_2` FOREIGN KEY (`voteCodeId`) REFERENCES `voteCodes` (`id`),
  CONSTRAINT `votes_ibfk_3` FOREIGN KEY (`categoryId`, `vote1`) REFERENCES `entries` (`categoryId`, `entryCode`),
  CONSTRAINT `votes_ibfk_4` FOREIGN KEY (`categoryId`, `vote2`) REFERENCES `entries` (`categoryId`, `entryCode`),
  CONSTRAINT `votes_ibfk_5` FOREIGN KEY (`categoryId`, `vote3`) REFERENCES `entries` (`categoryId`, `entryCode`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `votes`
--

LOCK TABLES `votes` WRITE;
/*!40000 ALTER TABLE `votes` DISABLE KEYS */;
INSERT INTO `votes` VALUES (5,433,4,101,102,103,'web','2016-12-08 18:48:15');
/*!40000 ALTER TABLE `votes` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2016-12-09  1:37:09
